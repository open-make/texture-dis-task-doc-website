<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Construct your texture discrimination task setup!</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="./static/Logo/favicon.ico" />
<link rel="icon" type="image/png" href="./static/Logo/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="./static/Logo/favicon-16x16.png" sizes="16x16" />

    <link href="./static/style.css" rel="stylesheet">
                  <style>
    .nav-list a.navhome, .sub-nav-list a.navhome{
      background-color: #f1502f !important;
    }
    .gallery-thumb img:hover {
      border: 4px solid #f1502f;
    }
  </style>
<style>
  .nav-list a.active, .sub-nav-list a.active {
    background-color: #cccccc !important;
  }
</style>
<style>
  .nav-list a:hover:not(.active), .sub-nav-list a:hover:not(.active) {
    background-color: #555555 !important;
  }
</style>
<style>
.gallery-show img {
  border: none;
}
</style>
<style>
.gallery-show img {
  background: none;
}
</style>
    
</head>
<body>
<header class="site-header">
    <div class="wrapper header-wrapper" >
        <div class=header-text>
   
    <h1 class="site-title">Construct your texture discrimination task setup!</h1>
</div>
            </div>
</header>
<div class="page-content">
            <div>
            <nav class="sidebar">
                <a href="#" class="menu-icon">
                <svg viewBox="0 0 18 15">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
                </a>
                <ul class="nav-list">
                <li>
    <a class="navhome" href="./">
        Construct your texture discrimination task setup!
    </a>
</li>
<li class="not-active">
    <a class="not-active" href="./platform.html">
        Construction of the elevated platform
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./platform_base.html">
        Platform part 1: Base platform
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./mouse_tube.html">
        Platform part 2: Mouse tube
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./head_fixation.html">
        Platform part 3: Head fixation 
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./lick_detection.html">
        Platform part 4: Lick detection
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./peripherals.html">
        Construction of the peripherals
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./horizontal_motor.html">
        Motor part 1: Horizontal motor
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./rotational_motor.html">
        Motor part 2: Rotational motor
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./setup_electronic.html">
        Set up of the electronics
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./electronic.html">
        Electronics part 1: Set up
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./script_setup.html">
        Electronics part 2: Script initializing
    </a>
    </li>
<li class="active">
    <a class="active" href="./code_usage.html">
        Electronics part 3: Program explanation
    </a>
    </li>
<li class="not-active">
    <a class="not-active" href="./training.html">
        Information about training
    </a>
    </li>

                </ul>
            </nav>
        </div>
        <div class="wrapper">
    <h1 id="electronics-part-3-program-explanation">Electronics part 3: Program explanation</h1>
<div class="warning-block">
<p><strong>todo</strong> </p>
<p>add programm screenshots</p>
</div>
<div class="caution-block">
<p>specify times and how to change</p>
</div>
<h2 id="general-information">General information</h2>
<p>All following informations assume that you have done the wiring exactly as indicated. This is necessary as the ports are specified in the scripts and will only work in that configuration.  </p>
<h2 class="page-step" id="how-to-start">Step 1: How to start</h2>
<p>Start by typing "Bpod()" in the Matlab console.</p>
<p>This will open a window to control the Bpod where you can open another window by clicking the play button.
This new window allows you to choose the script where you can start the preset experimental procedure.</p>
<h2 class="page-step" id="experimental-procedure">Step 2: Experimental procedure</h2>
<p>With the script starts one of four random cases is chosen for 100 iterations. Each case consists of a movement of the rotational motor to place the texture in the right position. Then the horizontal motor moves to present the texture to the mouse for 2 seconds. Afterwards the motor moves back and the next iterations starts.</p>
<p>During the procedure an extra window is open which displays the sequence of cases and wether the mouse did a lick or not and if it was correct or false. The window has four lanes with circles. Each lane represents a case.</p>
<p>Information of circles:</p>
<ul>
<li>Full green circle: Correctly licked</li>
<li>Empty green circle: Wrongly not licked</li>
<li>Full red circle: Wrongly licked</li>
<li>Empty red circle: Correctly not licked</li>
</ul>
<h2 class="page-step" id="manual-controlling">Step 3: Manual controlling</h2>
<p>In the Bpod window, which opens after typing "Bpod()" in the console, are several possibilities to control the setup by typing in specific codes.</p>
<h3 id="movement-control">Movement control</h3>
<p>The movement information is forwarded by numbers to the Arduino Bpod shield. Use the following numbers to do the desired movements. These movements are specified in the Arduino code file.</p>
<h4 id="movement-codes">Movement codes</h4>
<p>Code "1":</p>
<ul>
<li>Front rotation by 90°</li>
<li>Horizontal motor movement to texture present position</li>
</ul>
<p>Code "2":</p>
<ul>
<li>Front rotation by 180°</li>
<li>Horizontal motor movement to texture present position</li>
</ul>
<p>Code "3":</p>
<ul>
<li>Front rotation by 270°</li>
<li>Horizontal motor movement to texture present position</li>
</ul>
<p>Code "4":</p>
<ul>
<li>Front rotation by 360°</li>
<li>Horizontal motor movement to texture present position</li>
</ul>
<p>Code "5": </p>
<ul>
<li>Back rotation by 270°</li>
<li>Horizontal motor movement to default/ no texture present position</li>
</ul>
<p>Code "6": </p>
<ul>
<li>Back rotation by 180°</li>
<li>Horizontal motor movement to default/ no texture present position</li>
</ul>
<p>Code "7": </p>
<ul>
<li>Back rotation by 90°</li>
<li>Horizontal motor movement to default/ no texture present position</li>
</ul>
<p>Code "8": </p>
<ul>
<li>No rotation</li>
<li>Horizontal motor movement to default/ no texture present position</li>
</ul>
<p>Code "9":</p>
<ul>
<li>Make sound with buzzer.</li>
</ul>
<p>Code "10":</p>
<ul>
<li>Make a quarter turn.</li>
</ul>
<p>Code "11":</p>
<ul>
<li>Make a 1/200 turn.</li>
</ul>
<h3 id="reward-control">Reward control</h3>
<p>You can manually provide rewards to the mouse by clicking "vlv1". </p>
<p>The first click opens it and the second closes it.</p>
<h3 id="additional-informations" pagestep="pagestep">Additional informations</h3>
<ul>
<li>
<p>In the Bpod window are all s.gui variables changeable</p>
<ul>
<li>These are changeable during a run</li>
</ul>
</li>
<li>
<p>"flexthreshold" needs to be adjusted depending on the lick strength</p>
</li>
<li>
<p>"S.GUI.Reward" specifies the amount of rewards by the opening time</p>
</li>
<li>
<p>TrialTypes = randsrc(1,MaxTrials,[1 2 3 4; 0.25 0.25 0.25 0.25]); // List of cases and their probability, maybe only use two cases because of  wearing</p>
<ul>
<li>This specifies the cases and their probabilities </li>
</ul>
</li>
<li>
<p>Rotation speed defined by "for i in range 3000". </p>
</li>
<li>Lateral speed also defines as delay</li>
</ul>
<p>rotain speed defined by 3000 variables down definiert als delay
latspeed für lateralen geschw auch definiert als delay</p>
<p>derzeot nur töne unterschiedlicher länge impleementiete
als alternative arduino uno hinten dran und damit vers freqsaf</p>
<h3 id="training-mode" pagestep="pagestep">Training mode</h3>
<p>Follow the <a href="training.html" title="">instruction</a> to use the training mode.</p>
<hr />
<p><a href="script_setup.html">Previous page</a> | <a href="training.html">Next page</a></p>
    </div>
</div>
<footer class="site-footer">
    <div class="wrapper">
        <a target="_blank" rel="noopener noreferrer" href="https://gitbuilding.io">
    <img class="icon" src="./static/Logo/GitBuilding500x.png" alt="GitBuilding logo">
    <span class="info">Documentation powered by GitBuilding</span>
</a>

    </div>
</footer></body>
</html>